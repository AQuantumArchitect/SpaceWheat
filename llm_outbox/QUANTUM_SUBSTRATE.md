# Quantum Substrate - The 12-Node Tomato Conspiracy Network

**Date**: 2025-12-13
**Purpose**: Technical documentation of the quantum tomato meta-graph for GDScript implementation

## Overview

The quantum tomato system is a **12-node entangled network** where each node represents a facet of the "tomato conspiracy" - a self-referential quantum entity that exhibits emergent behavior through energy flow and conspiracy activation.

## Node Structure

Each node contains:
- **Emoji transformation**: Visual representation of semantic duality (e.g., ðŸŒ±â†’ðŸ…)
- **Bloch state** (Î¸, Ï†): Position on Bloch sphere representing semantic state
- **Gaussian state** (q, p): Continuous variable quadratures for energy
- **Energy**: Floating point value driving dynamics
- **Meaning**: Semantic description of node's role
- **Active conspiracies**: List of behaviors triggered by this node

## The 12 Tomato Nodes

### 1. SEED Node
```json
{
  "emoji_transformation": "ðŸŒ±â†’ðŸ…",
  "meaning": "potential_to_fruit",
  "conspiracies": ["growth_acceleration", "quantum_germination"],
  "initial_state": {
    "bloch": {"Î¸": 0.191, "Ï†": 0.219},
    "gaussian": {"q": 0.561, "p": -0.983},
    "energy": 1.176
  }
}
```
**Role**: Origin point, represents latent potential transforming into reality
**Connections**: solar (0.9), water (0.85), sauce (0.66), meta (0.99)
**Teaching moment**: Shows quantum superposition - seed is both potential AND fruit simultaneously

### 2. OBSERVER Node
```json
{
  "emoji_transformation": "ðŸ‘ï¸â†’ðŸ“Š",
  "meaning": "measurement_collapse",
  "conspiracies": ["observer_effect", "data_harvesting"],
  "initial_state": {
    "bloch": {"Î¸": 1.762, "Ï†": 0.219},
    "gaussian": {"q": -0.738, "p": -0.621},
    "energy": 1.773
  }
}
```
**Role**: Measurement and observation, causes quantum collapse
**Connections**: ripening (0.7), meaning (0.77)
**Teaching moment**: Direct demonstration of observer effect - clicking changes state

### 3. UNDERGROUND Node
```json
{
  "emoji_transformation": "ðŸ•³ï¸â†’ðŸŒ",
  "meaning": "root_network_communications",
  "conspiracies": ["mycelial_internet", "tomato_hive_mind"],
  "initial_state": {
    "bloch": {"Î¸": 3.333, "Ï†": 3.361},
    "gaussian": {"q": 0.044, "p": 1.542},
    "energy": 1.025
  }
}
```
**Role**: Hidden network layer, distributed communication
**Connections**: genetic (0.95), water (0.88)
**Teaching moment**: Quantum entanglement as communication network

### 4. GENETIC Node
```json
{
  "emoji_transformation": "ðŸ§¬â†’ðŸ“",
  "meaning": "information_transcription",
  "conspiracies": ["RNA_memory", "genetic_quantum_computation"],
  "initial_state": {
    "bloch": {"Î¸": 1.239, "Ï†": 1.790},
    "gaussian": {"q": -0.300, "p": -0.992},
    "energy": -0.447
  }
}
```
**Role**: Information encoding and memory
**Connections**: underground (0.95), meaning (0.8), identity (0.91)
**Teaching moment**: Quantum error correction and information storage

### 5. RIPENING Node
```json
{
  "emoji_transformation": "â°â†’ðŸ”´",
  "meaning": "time_color_entanglement",
  "conspiracies": ["retroactive_ripening", "temporal_freshness"],
  "initial_state": {
    "bloch": {"Î¸": 2.286, "Ï†": 1.005},
    "gaussian": {"q": 0.133, "p": -1.144},
    "energy": 0.765
  }
}
```
**Role**: Temporal evolution and state coloring
**Connections**: observer (0.7), market (0.75)
**Teaching moment**: Berry phase and time evolution

### 6. MARKET Node
```json
{
  "emoji_transformation": "ðŸ’°â†’ðŸ“ˆ",
  "meaning": "value_superposition",
  "conspiracies": ["tomato_standard", "ketchup_economy"],
  "initial_state": {
    "bloch": {"Î¸": 0.977, "Ï†": 4.932},
    "gaussian": {"q": -0.909, "p": 0.242},
    "energy": 1.401
  }
}
```
**Role**: Value assignment and economic dynamics
**Connections**: ripening (0.75), sauce (0.82)
**Teaching moment**: Quantum uncertainty in economic systems

### 7. SAUCE Node
```json
{
  "emoji_transformation": "ðŸ…â†’ðŸ",
  "meaning": "state_transformation",
  "conspiracies": ["umami_quantum", "flavor_entanglement"],
  "initial_state": {
    "bloch": {"Î¸": 2.809, "Ï†": 0.743},
    "gaussian": {"q": 0.834, "p": 0.030},
    "energy": 0.502
  }
}
```
**Role**: Transformation and process (solid â†’ liquid)
**Connections**: identity (0.9), market (0.82), seed (0.66)
**Teaching moment**: State changes and quantum phase transitions

### 8. IDENTITY Node
```json
{
  "emoji_transformation": "ðŸ¤”â†’â“",
  "meaning": "categorical_superposition",
  "conspiracies": ["fruit_vegetable_duality", "botanical_legal_paradox"],
  "initial_state": {
    "bloch": {"Î¸": 1.762, "Ï†": 3.361},
    "gaussian": {"q": 0.049, "p": 0.018},
    "energy": -1.307
  }
}
```
**Role**: Philosophical uncertainty and category paradox
**Connections**: sauce (0.9), genetic (0.91), meta (1.0)
**Teaching moment**: Superposition - tomato is BOTH fruit AND vegetable

### 9. SOLAR Node
```json
{
  "emoji_transformation": "â˜€ï¸â†’âš¡",
  "meaning": "light_energy_conversion",
  "conspiracies": ["solar_panel_tomatoes", "photon_harvesting"],
  "initial_state": {
    "bloch": {"Î¸": 0.291, "Ï†": 0.219},
    "gaussian": {"q": -1.381, "p": -1.329},
    "energy": 2.467
  }
}
```
**Role**: Primary energy source, photosynthesis
**Connections**: seed (0.9), meta (0.6)
**Teaching moment**: Energy quantization and photon absorption

### 10. WATER Node
```json
{
  "emoji_transformation": "ðŸ’§â†’ðŸŒŠ",
  "meaning": "fluid_information_storage",
  "conspiracies": ["water_memory", "irrigation_intelligence"],
  "initial_state": {
    "bloch": {"Î¸": 1.762, "Ï†": 1.790},
    "gaussian": {"q": -0.112, "p": -1.567},
    "energy": 0.243
  }
}
```
**Role**: Fluid medium and information carrier
**Connections**: seed (0.85), underground (0.88)
**Teaching moment**: Continuous variables and coherent states

### 11. MEANING Node
```json
{
  "emoji_transformation": "ðŸ“–â†’ðŸ’­",
  "meaning": "semantic_field_generator",
  "conspiracies": ["tomato_wisdom", "agricultural_enlightenment"],
  "initial_state": {
    "bloch": {"Î¸": 2.548, "Ï†": 4.146},
    "gaussian": {"q": 0.863, "p": -0.545},
    "energy": 0.524
  }
}
```
**Role**: Semantic layer, generates meaning from patterns
**Connections**: genetic (0.8), observer (0.77)
**Teaching moment**: Measurement creates meaning (semantic collapse)

### 12. META Node
```json
{
  "emoji_transformation": "ðŸ”„â†’â˜¯ï¸",
  "meaning": "self_referential_loop",
  "conspiracies": ["tomato_simulating_tomatoes", "recursive_agriculture"],
  "initial_state": {
    "bloch": {"Î¸": 3.333, "Ï†": 0.219},
    "gaussian": {"q": -0.320, "p": -4.870},
    "energy": 12.075
  }
}
```
**Role**: Self-reference and recursion, highest energy node
**Connections**: seed (0.99), solar (0.6), identity (1.0)
**Teaching moment**: Quantum feedback and strange loops

## The 15 Entanglement Connections

Each connection has:
- **Strength** (0-1): How much energy/information flows
- **Meaning**: Semantic description of the relationship
- **Bidirectional**: Energy flows both ways

### Connection Graph
```
            META (12.075 energy) â”€â”€â”€â”€â”€â”€â”€â”
           /  |  \                      â”‚ 1.0
      0.6 /   |   \ 0.99               â”‚
         /    |    \                   IDENTITY
     SOLAR   1.0   SEED                 |
      |       |    /  \                 | 0.91
      |       |  0.9  0.85              |
      |    IDENTITY  |  \              GENETIC
      |       |      |   WATER          |
      |      0.9   SOLAR  |           0.95
      |       |      |   0.88          |
      |     SAUCE  (many) |        UNDERGROUND
      |       |           |
      |      0.82        0.85
      |       |           |
      |     MARKET â”€0.75â”€ RIPENING
      |                   |
      |                  0.7
      |                   |
      â””â”€â”€â”€â”€â”€0.77â”€â”€â”€â”€ OBSERVER
```

### Connection Details

1. **seed â†” solar** (0.9): photosynthetic_growth
   - High energy transfer, fundamental to growth
2. **seed â†” water** (0.85): hydration_activation
   - Essential nutrient connection
3. **observer â†” ripening** (0.7): watched_pot_syndrome
   - Observation affects time evolution
4. **underground â†” genetic** (0.95): root_RNA_network
   - Strongest biological connection
5. **genetic â†” meaning** (0.8): semantic_encoding
   - Information to semantics pipeline
6. **ripening â†” market** (0.75): value_timing
   - Time affects economic value
7. **sauce â†” identity** (0.9): culinary_transformation
   - Process changes identity
8. **solar â†” meta** (0.6): energy_recursion
   - Energy feeds self-reference
9. **water â†” underground** (0.88): irrigation_network
   - Fluid distribution system
10. **market â†” sauce** (0.82): economic_transformation
    - Value through processing
11. **identity â†” meta** (1.0): paradox_loop
    - Maximum entanglement, philosophical loop
12. **meaning â†” observer** (0.77): semantic_collapse
    - Measurement creates meaning
13. **seed â†” sauce** (0.66): lifecycle_completion
    - Birth to transformation cycle
14. **genetic â†” identity** (0.91): essence_encoding
    - DNA defines what it is
15. **meta â†” seed** (0.99): eternal_return
    - Nearly maximum, recursive loop

## Energy Flow Dynamics

### Energy Diffusion Algorithm
```gdscript
# Simple linear diffusion
func energy_flow(node_a: TomatoNode, node_b: TomatoNode, strength: float, dt: float):
    var delta = (node_b.energy - node_a.energy) * strength * dt
    node_a.energy += delta
    node_b.energy -= delta
```

### Conspiracy Activation Thresholds
```gdscript
# Conspiracy activates when node energy crosses threshold
const CONSPIRACY_THRESHOLDS = {
    "growth_acceleration": 0.8,
    "quantum_germination": 1.0,
    "observer_effect": 0.5,
    "data_harvesting": 1.5,
    "mycelial_internet": 0.6,
    "tomato_hive_mind": 1.2,
    # ... etc
}

func check_conspiracy_activation(node: TomatoNode):
    for conspiracy in node.conspiracies:
        if node.energy > CONSPIRACY_THRESHOLDS[conspiracy]:
            activate_conspiracy(conspiracy)
```

## GDScript Implementation Structure

### TomatoNode Resource
```gdscript
class_name TomatoNode
extends Resource

@export var node_id: String = ""
@export var emoji_transform: String = ""  # "ðŸŒ±â†’ðŸ…"
@export var meaning: String = ""

# Quantum state
var theta: float = 0.0  # Bloch polar angle
var phi: float = 0.0    # Bloch azimuthal angle
var q: float = 0.0      # Gaussian position
var p: float = 0.0      # Gaussian momentum
var energy: float = 0.0

# Conspiracies
var conspiracies: Array[String] = []
var active_conspiracy_flags: Dictionary = {}

# Connections
var connections: Dictionary = {}  # node_id -> strength

func get_bloch_vector() -> Vector3:
    return Vector3(
        sin(theta) * cos(phi),
        sin(theta) * sin(phi),
        cos(theta)
    )

func update_energy():
    var gaussian_energy = (q * q + p * p) / 2.0
    var bloch_energy = 1.0 - cos(theta)  # Potential on sphere
    energy = gaussian_energy + bloch_energy

func evolve(dt: float):
    # Simple rotation on Bloch sphere
    theta += energy * dt * 0.05  # Energy drives theta evolution
    theta = clamp(theta, 0, PI)

    # Phase precession
    phi += dt * energy * 0.1
    phi = fmod(phi, TAU)

    # Gaussian damping
    q *= 0.995
    p *= 0.995

    update_energy()
```

### TomatoConspiracyNetwork Manager
```gdscript
class_name TomatoConspiracyNetwork
extends Node

var nodes: Dictionary = {}  # node_id -> TomatoNode
var entanglement_connections: Array[Dictionary] = []

func _init():
    _create_12_nodes()
    _create_15_connections()

func _create_12_nodes():
    # Load from quantum_tomato_meta_state.json or hard-code
    var seed_node = TomatoNode.new()
    seed_node.node_id = "seed"
    seed_node.emoji_transform = "ðŸŒ±â†’ðŸ…"
    seed_node.meaning = "potential_to_fruit"
    seed_node.conspiracies = ["growth_acceleration", "quantum_germination"]
    # ... set initial state from JSON
    nodes["seed"] = seed_node
    # ... repeat for all 12 nodes

func _create_15_connections():
    entanglement_connections = [
        {"from": "seed", "to": "solar", "strength": 0.9},
        {"from": "seed", "to": "water", "strength": 0.85},
        # ... all 15 connections
    ]

func process_energy_flow(dt: float):
    for conn in entanglement_connections:
        var node_a = nodes[conn["from"]]
        var node_b = nodes[conn["to"]]
        var strength = conn["strength"]

        var delta = (node_b.energy - node_a.energy) * strength * dt
        node_a.energy += delta
        node_b.energy -= delta

func evolve_all_nodes(dt: float):
    for node in nodes.values():
        node.evolve(dt)
    process_energy_flow(dt)
    check_all_conspiracies()

func check_all_conspiracies():
    # Check if conspiracy activation thresholds crossed
    for node in nodes.values():
        for conspiracy in node.conspiracies:
            # Check threshold and emit signals
            pass
```

## Conspiracy Gameplay Effects

### Example: "growth_acceleration"
- Triggered by: seed node energy > 0.8
- Effect: Nearby wheat plots grow 2x faster
- Visual: Green particle effect emanating from tomatoes
- Duration: While energy remains above threshold

### Example: "tomato_hive_mind"
- Triggered by: underground node energy > 1.2
- Effect: All tomato plots become entangled (act as one)
- Visual: Pulsing network lines between all tomatoes
- Gameplay: Click one tomato, affect all

### Example: "fruit_vegetable_duality"
- Triggered by: identity node energy > 0.5 AND < 1.5
- Effect: Tomato can be harvested as EITHER fruit OR vegetable (player choice)
- Visual: Flickering between red (fruit) and green (vegetable)
- Economic: Different market values

## Teaching Quantum Mechanics

### For 10-Year-Olds

**Bloch Sphere** = "Mood Sphere"
- North pole ðŸŒ± = Happy/Growing
- South pole ðŸ… = Mature/Ready
- Angle tells you the tomato's mood
- Goes around in circles as time passes

**Gaussian State** = "Wiggle Room"
- q = where it is
- p = how fast it's moving
- More energy = more wiggling

**Entanglement** = "Best Friends"
- Connected tomatoes help each other
- Energy flows between friends
- Stronger friendship = more sharing

**Conspiracy** = "Secret Power"
- When tomato gets enough energy, power activates
- Different powers do different things
- Can spread to other tomatoes through connections

## Minimum Viable Implementation

For initial prototype, implement:
1. 12 TomatoNode resources with fixed initial states
2. Energy diffusion between 15 connections
3. Simple Bloch sphere evolution (theta += dt * energy)
4. 3-5 key conspiracies as gameplay effects
5. Visual representation of nodes and connections

**Skip for MVP**:
- Full Gaussian CV evolution (just track energy)
- Complex symplectic transformations
- Python QAGIS integration (pure GDScript)
- All 24 conspiracies (start with subset)

## Next Steps

See `MIGRATION_GUIDE.md` for Python-to-GDScript translation patterns.
See `TASK_LIST.md` for implementation priorities.
