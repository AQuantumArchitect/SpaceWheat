# SpaceWheat Procedural Quest System
## Mapping 32 Factions â†’ Biome Resources â†’ Quest Generation

---

## Core Concept

Each faction has:
1. **12-bit pattern** (axiom classification)
2. **Emoji theme** (from faction name/description)
3. **Resource preferences** (derived from emoji space)

Quests are procedurally generated by:
1. Select faction (weighted by player progression)
2. Extract faction's emoji preferences from biome availability
3. Use 12-bit pattern to modulate quest structure
4. Generate quest objectives, rewards, and story flavor

---

## Biome Resource Mapping

### BioticFlux Biome (UIOP keys)
**Available Emojis**: ğŸŒ¾ wheat, ğŸ‘¥ labor, ğŸ„ mushroom, ğŸ‚ detritus, â˜€ï¸ sun, ğŸŒ‘ moon

**Faction Matches**:
- **Millwright's Union** (ğŸŒ¾âš™ï¸ğŸ­) â†’ wheat processing quests
- **Void Serfs** (ğŸŒ¾â›“ï¸ğŸŒŒ) â†’ indentured farming quests
- **Clan of Hidden Root** (ğŸŒ±ğŸ¡ğŸ›¡ï¸) â†’ defensive wheat cultivation

### Kitchen Biome (JKL; keys)
**Available Emojis**: ğŸ”¥ fire, â„ï¸ ice, ğŸ bread

**Faction Matches**:
- **Yeast Prophets** (ğŸğŸ§ªâ›ª) â†’ fermentation/bread mysticism quests
- **Sacred Flame Keepers** (ğŸ•¯ï¸ğŸ”¥â›ª) â†’ fire ritual quests
- **Granary Guilds** (ğŸŒ¾ğŸ’°âš–ï¸) â†’ bread distribution quests

### Forest Ecosystem Biome (7890 keys)
**Available Emojis**: ğŸ’§ water, ğŸº wolf, ğŸ¦… eagle, ğŸ¦ bird, ğŸ° rabbit, ğŸ› caterpillar, ğŸ­ mouse, ğŸŒ² forest, ğŸŒ± seedling, ğŸŒ¿ sapling, ğŸ¥š eggs, ğŸ apples

**Faction Matches**:
- **Iron Shepherds** (ğŸ›¡ï¸ğŸ‘ğŸš€) â†’ protect forest creatures from predators
- **Cartographers** (ğŸ—ºï¸ğŸ”­ğŸš¢) â†’ map forest ecology transitions
- **Clan of Hidden Root** (ğŸŒ±ğŸ¡ğŸ›¡ï¸) â†’ forest restoration quests
- **Empire Shepherds** (ğŸ‘ğŸŒğŸ¤ ) â†’ "herd" ecological succession

### Market Biome (NM,. keys)
**Available Emojis**: ğŸ’° money, ğŸ“¦ goods, ğŸ‚ bull, ğŸ» bear

**Faction Matches**:
- **Syndicate of Glass** (ğŸ’âš–ï¸ğŸ›¸) â†’ trade rare goods
- **Memory Merchants** (ğŸ§ ğŸ’°ğŸ“¦) â†’ sell/buy consciousness packages
- **Granary Guilds** (ğŸŒ¾ğŸ’°âš–ï¸) â†’ stabilize grain markets
- **Bone Merchants** (ğŸ¦´ğŸ’‰ğŸ›’) â†’ black market trade

---

## 12-Bit Quest Modulation System

Each faction's 12-bit pattern modulates quest parameters:

### Bit 1: ğŸ² Random (0) vs ğŸ“š Deterministic (1)
- **0 (Random)**: Quest objectives shuffle/randomize each time
- **1 (Deterministic)**: Fixed objectives, predictable outcomes

**Example**:
- Tinker Team `010100101000` (bit 1 = 0): "Repair 3 random broken items" (changes each playthrough)
- Millwright's Union `110100000001` (bit 1 = 1): "Mill exactly 10 wheat to flour"

### Bit 2: ğŸ”§ Material (0) vs ğŸ”® Mystical (1)
- **0 (Material)**: Rewards are tangible resources (wheat, flour, water)
- **1 (Mystical)**: Rewards are quantum state shifts, biome influence, phase changes

**Example**:
- Millwright's Union (Material): "Reward: 20 flour ğŸ’¨"
- Yeast Prophets (Mystical): "Reward: Bread qubit theta shifts toward ğŸ (fermentation boost)"

### Bit 3: ğŸŒ¾ Common (0) vs ğŸ‘‘ Elite (1)
- **0 (Common)**: Low-cost entry, small rewards, accessible early
- **1 (Elite)**: High-cost entry, large rewards, late-game

**Example**:
- Clan of Hidden Root `110100101000` (bit 3 = 0): "Plant 5 wheat plots" (entry: 50 wheat)
- Syndicate of Glass `110111010101` (bit 3 = 1): "Trade 100 flour for hyperspace crystal" (entry: 100 ğŸ’°)

### Bit 4: ğŸ  Local (0) vs ğŸŒŒ Cosmic (1)
- **0 (Local)**: Affects single plot, small radius
- **1 (Cosmic)**: Affects entire biome, cross-biome quests

**Example**:
- Clan of Hidden Root (Local): "Protect this 3Ã—3 grid from decoherence"
- Iron Shepherds `110111000101` (Cosmic): "Patrol all biomes for predator threats"

### Bit 5: âš¡ Instant (0) vs ğŸ•°ï¸ Eternal (1)
- **0 (Instant)**: Quest completes immediately on action
- **1 (Eternal)**: Quest spans multiple day-night cycles, requires waiting

**Example**:
- Children of the Ember `110100000001` (Instant): "Harvest all mature wheat NOW"
- Entropy Shepherds `111111111111` (Eternal): "Wait for 3 full sun-moon cycles, then measure"

### Bit 6: ğŸ’ª Physical (0) vs ğŸ§  Mental (1)
- **0 (Physical)**: Plant, harvest, build, move objects
- **1 (Mental)**: Measure, entangle, solve quantum puzzles

**Example**:
- Millwright's Union (Physical): "Place 2 mills, process 20 wheat"
- Keepers of Silence `111111010101` (Mental): "Create Bell state entanglement across 4 wheat plots"

### Bit 7: ğŸ’  Crystalline (0) vs ğŸŒŠ Fluid (1)
- **0 (Crystalline)**: Fixed quest steps (do A, then B, then C)
- **1 (Fluid)**: Adaptive objectives (complete ANY 3 of 5 options)

**Example**:
- Obsidian Will `110111000101` (Crystalline): "1. Plant wheat, 2. Measure, 3. Harvest, 4. Mill"
- Nexus Wardens `111011111110` (Fluid): "Complete 3 of: {plant, harvest, entangle, trade, build}"

### Bit 8: ğŸ—¡ï¸ Direct (0) vs ğŸ­ Subtle (1)
- **0 (Direct)**: Quest appears in quest log with explicit objectives
- **1 (Subtle)**: Hidden quest, unlocked by player discovery or observation

**Example**:
- Brotherhood of Ash `110101000001` (Direct): "QUEST: Kill 5 wolves in Forest biome"
- House of Thorns `111111010101` (Subtle): Quest hidden until player notices mushrooms dying in daylight

### Bit 9: ğŸ½ï¸ Consumptive (0) vs ğŸ Providing (1)
- **0 (Consumptive)**: Quest consumes resources, drains player inventory
- **1 (Providing)**: Quest gives resources upfront, player must manage them

**Example**:
- Locusts `010100100000` (Consumptive): "Spend 30 wheat to unlock locust swarm"
- Millwright's Union (Providing): "We give you 10 wheat. Mill it all and return flour."

### Bit 10: â¬œ Monochrome (0) vs ğŸŒˆ Prismatic (1)
- **0 (Monochrome)**: Quest uses single emoji type (only wheat, only mushrooms)
- **1 (Prismatic)**: Quest uses diverse emoji types (wheat + mushrooms + water + labor)

**Example**:
- Void Serfs `010011000110` (Monochrome): "Harvest 100 wheat. Only wheat. Nothing else."
- Resonance Dancers `111101111111` (Prismatic): "Balance 10ğŸŒ¾ + 5ğŸ„ + 3ğŸ’§ in superposition"

### Bit 11: ğŸŒ± Emergent (0) vs ğŸ—ï¸ Imposed (1)
- **0 (Emergent)**: Quest triggers from player actions or biome events
- **1 (Imposed)**: Quest appears on schedule or from faction contact

**Example**:
- Tinker Team `010100101000` (Emergent): Quest appears when player's mill breaks
- Carrion Throne `110111001101` (Imposed): "Imperial decree: Quota of 50 wheat due in 3 cycles"

### Bit 12: ğŸŒªï¸ Scattered (0) vs ğŸ¯ Focused (1)
- **0 (Scattered)**: Multiple objectives across different biomes
- **1 (Focused)**: Single objective, single location, concentrated effort

**Example**:
- Rust Fleet `010111100000` (Scattered): "Salvage resources from 5 random locations"
- Sacred Flame Keepers `111011010101` (Focused): "Keep this ONE fire burning for 60 seconds"

---

## Faction â†’ Emoji Space Mapping

### Imperial Powers

**Carrion Throne** (ğŸ‘‘ğŸ’€ğŸ›ï¸) - Pattern: `110111001101`
- **Emoji preferences**: ğŸŒ¾ wheat (food supply), ğŸ’° money (taxes), ğŸ‘¥ labor (bureaucrats)
- **Quest type**: Quota fulfillment, deterministic, providing resources initially
- **Example**: "Imperial Grain Quota: Deliver 100ğŸŒ¾ within 5 sun cycles. Penalty for failure: -50ğŸ’°"

**House of Thorns** (ğŸŒ¹ğŸ—¡ï¸ğŸ‘‘) - Pattern: `111111010101`
- **Emoji preferences**: ğŸ„ mushrooms (poison), ğŸŒ‘ darkness (stealth), ğŸ’€ death
- **Quest type**: Subtle assassination, mystical, consumptive
- **Example**: "Secret Contract: Grow mushrooms in darkness. Harvest during ğŸŒ‘ moon phase only."

**Granary Guilds** (ğŸŒ¾ğŸ’°âš–ï¸) - Pattern: `110111011101`
- **Emoji preferences**: ğŸŒ¾ wheat, ğŸ’¨ flour, ğŸ bread, ğŸ’° money
- **Quest type**: Economic stabilization, providing, deterministic
- **Example**: "Bread Shortage Alert: We provide 20ğŸŒ¾. Mill to ğŸ’¨, bake to ğŸ, distribute evenly."

**Station Lords** (ğŸ¢ğŸ‘‘ğŸŒŒ) - Pattern: `110111000101`
- **Emoji preferences**: ğŸ’° money, ğŸ“¦ goods, ğŸŒŒ cosmic resources
- **Quest type**: Trade monopoly, consumptive, cosmic scale
- **Example**: "Orbital Tribute: Gather 50ğŸ’° + 30ğŸ“¦ from all biomes. Reward: Hyperspace access."

### Working Guilds

**Millwright's Union** (ğŸŒ¾âš™ï¸ğŸ­) - Pattern: `110100000001`
- **Emoji preferences**: ğŸŒ¾ wheat, ğŸ’¨ flour, âš™ï¸ mills
- **Quest type**: Physical labor, focused, instant completion
- **Example**: "Mill Contract: Place 1 mill. Process 30ğŸŒ¾ â†’ 24ğŸ’¨. Reward: +10ğŸ’° per flour."

**Tinker Team** (ğŸ”§ğŸ› ï¸ğŸš) - Pattern: `010100101000`
- **Emoji preferences**: ğŸ”§ repairs, scattered resources, random items
- **Quest type**: Emergent (triggers on breakdown), scattered, fluid objectives
- **Example**: "Breakdown Alert: 3 random structures broken. Fix any 2 to complete."

**Gravedigger's Union** (âš°ï¸ğŸª¦ğŸŒ™) - Pattern: `010011000101`
- **Emoji preferences**: ğŸ’€ death, ğŸŒ‘ moon, ğŸ‚ detritus (decay)
- **Quest type**: Ritual burial, eternal timescale, monochrome focus
- **Example**: "Death Rites: Wait for ğŸŒ‘ midnight. Harvest all ğŸ‚ detritus. Bury in ritual plot."

**Symphony Smiths** (ğŸµğŸ”¨âš”ï¸) - Pattern: `110100001111`
- **Emoji preferences**: ğŸµ sound (vibrations), prismatic colors, focused crafting
- **Quest type**: Resonance tuning, material but prismatic
- **Example**: "Harmonic Forge: Entangle 4 plots (ğŸŒ¾ğŸ„ğŸ’§ğŸ”¥) in Bell state. Measure simultaneously."

### Mystic Orders

**Yeast Prophets** (ğŸğŸ§ªâ›ª) - Pattern: `011011111101`
- **Emoji preferences**: ğŸ bread, ğŸ”¥ fermentation, ğŸ’¨ flour (transformation)
- **Quest type**: Mystical fermentation, emergent, fluid, prismatic
- **Example**: "Prophetic Rise: Create ğŸ from ğŸŒ¾+ğŸ’§+ğŸ”¥ superposition. Theta must drift naturally."

**Keepers of Silence** (ğŸ§˜â€â™‚ï¸âš”ï¸ğŸ”‡) - Pattern: `111111010101`
- **Emoji preferences**: ğŸ”‡ silence, ğŸŒŒ hyperspace, ğŸ§˜ meditation (coherence)
- **Quest type**: Subtle anomaly hunting, mental puzzles, eternal patience
- **Example**: "Hyperspace Tear: Find plot with decoherence >0.8. Restore coherence to <0.2 via entanglement."

**Sacred Flame Keepers** (ğŸ•¯ï¸ğŸ”¥â›ª) - Pattern: `111011010101`
- **Emoji preferences**: ğŸ”¥ fire, ğŸ•¯ï¸ flames, â˜€ï¸ light (eternal burning)
- **Quest type**: Ritual focus, eternal maintenance, monochrome
- **Example**: "Sacred Vigil: Keep ğŸ”¥ plot energy >0.9 for 3 sun-moon cycles without harvest."

### Merchants & Traders

**Syndicate of Glass** (ğŸ’âš–ï¸ğŸ›¸) - Pattern: `110111010101`
- **Emoji preferences**: ğŸ’ crystals, ğŸ’° money, ğŸ“¦ hyperspace goods
- **Quest type**: Elite trade, cosmic scale, deterministic contracts
- **Example**: "Crystal Deal: Trade 200ğŸ’° for 1ğŸ’. Requires 150ğŸ’° down payment + cosmic market access."

**Memory Merchants** (ğŸ§ ğŸ’°ğŸ“¦) - Pattern: `111111010101`
- **Emoji preferences**: ğŸ§  consciousness, ğŸ’° money, quantum states (memories)
- **Quest type**: Mystical extraction, subtle, consumptive
- **Example**: "Memory Harvest: Measure 10 wheat plots. Sell their collapsed states for 5ğŸ’° each."

**Bone Merchants** (ğŸ¦´ğŸ’‰ğŸ›’) - Pattern: `010100101000`
- **Emoji preferences**: ğŸ¦´ bones, ğŸ’‰ bio-matter, random organic emojis
- **Quest type**: Random black market, emergent, scattered, instant
- **Example**: "Black Market Opportunity: We need ğŸº or ğŸ¦… or ğŸ°. First one you find, we buy for 20ğŸ’°."

### Militant Orders

**Iron Shepherds** (ğŸ›¡ï¸ğŸ‘ğŸš€) - Pattern: `110111000101`
- **Emoji preferences**: ğŸ›¡ï¸ defense, ğŸ‘ protection, ğŸŒŒ patrol routes
- **Quest type**: Cosmic patrol, physical protection, focused
- **Example**: "Cathedral Patrol: Protect Forest biome. If any ğŸ° dies to ğŸº, quest fails. Reward: 30ğŸ’°."

**Children of the Ember** (ğŸ”¥âœŠâš¡) - Pattern: `110100000001`
- **Emoji preferences**: ğŸ”¥ fire, âš¡ energy, revolution (destruction)
- **Quest type**: Instant action, local, physical, monochrome focus
- **Example**: "Revolutionary Burn: Harvest all ğŸ”¥ plots immediately. Energy â†’ liberation. No planning."

**Order of Crimson Scale** (âš–ï¸ğŸ‰ğŸ©¸) - Pattern: `111101001101`
- **Emoji preferences**: âš–ï¸ justice, ğŸ‰ power, cosmic law
- **Quest type**: Mystical judgment, instant cosmic rulings
- **Example**: "Draconic Judgment: Measure all entangled plots. Destroy plots with broken Bell states. Reward: +100ğŸ’°."

### Scavenger Factions

**Rust Fleet** (ğŸš¢ğŸ¦´âš™ï¸) - Pattern: `010111100000`
- **Emoji preferences**: âš™ï¸ salvage, ğŸ¦´ remains, scattered debris
- **Quest type**: Random scavenging, cosmic scale, scattered, emergent
- **Example**: "Salvage Run: Find 5 dead plots (energy <0.1) across all biomes. Extract 10ğŸ’° each."

**Locusts** (ğŸ¦—ğŸƒğŸ’€) - Pattern: `010100100000`
- **Emoji preferences**: ğŸƒ plants, ğŸ’€ consumption, ğŸŒ¾ğŸ„ organic matter
- **Quest type**: Instant consumption, scattered, random targets
- **Example**: "Swarm Descent: Harvest ALL ğŸŒ¾+ğŸ„ in BioticFlux biome within 10 seconds. Keeps all energy."

**Cartographers** (ğŸ—ºï¸ğŸ”­ğŸš¢) - Pattern: `010111111100`
- **Emoji preferences**: ğŸ—ºï¸ maps, ğŸŒŒ exploration, prismatic discoveries
- **Quest type**: Emergent exploration, mystical, fluid objectives
- **Example**: "Hyperspace Survey: Discover 3 new emoji pairings. Map entanglement graph. Reward: ğŸ—ºï¸ map unlock."

### Horror Cults

**Laughing Court** (ğŸªğŸ’€ğŸŒ€) - Pattern: `011111111100`
- **Emoji preferences**: ğŸŒ€ chaos, ğŸ’€ madness, ğŸª memetic spread
- **Quest type**: Random viral spread, mystical, scattered, emergent
- **Example**: "Laughter Plague: Entangle 5 plots. Each day, randomly measure 1. Infection spreads if ğŸ’€ collapses."

**Flesh Architects** (ğŸ§¬ğŸ—ï¸ğŸ‘¥) - Pattern: `011111110101`
- **Emoji preferences**: ğŸ§¬ DNA, ğŸ‘¥ biomass, horror transformations
- **Quest type**: Mystical construction, focused, providing (gives flesh to reshape)
- **Example**: "Living City: We give you 50ğŸ‘¥. Arrange in specific pattern. Let evolve for 5 cycles. Harvest 100ğŸ‘¥."

### Defensive Communities

**Clan of Hidden Root** (ğŸŒ±ğŸ¡ğŸ›¡ï¸) - Pattern: `110100101000`
- **Emoji preferences**: ğŸŒ± growth, ğŸ¡ home, ğŸ›¡ï¸ defense
- **Quest type**: Physical protection, local, fluid, emergent
- **Example**: "Root Defense: Protect 3Ã—3 wheat grid. If decoherence exceeds 0.5 anywhere, replant within 10s."

**Terrarium Collective** (ğŸŒ¿ğŸ ğŸ”’) - Pattern: `110011101111`
- **Emoji preferences**: ğŸŒ¿ biosphere, prismatic balance, ğŸ”’ segregation
- **Quest type**: Focused balance, eternal maintenance, providing
- **Example**: "Zero-Waste Cycle: We give 10ğŸŒ¾+5ğŸ’§+3ğŸ”¥. Balance all three in closed system for 3 cycles."

### Cosmic Manipulators

**Resonance Dancers** (ğŸ’ƒğŸ¼ğŸŒŸ) - Pattern: `111101111111`
- **Emoji preferences**: ğŸ¼ harmony, prismatic balance, ğŸŒŸ psychic space
- **Quest type**: Mystical synchronization, cosmic, prismatic, instant tuning
- **Example**: "Galactic Harmony: Synchronize 4 biomes. All must have same average theta Â±5Â°. Instant measurement."

**Causal Shepherds** (ğŸ‘ğŸ²âš¡) - Pattern: `111111111101`
- **Emoji preferences**: ğŸ² probability, causality chains, quantum uncertainty
- **Quest type**: Subtle manipulation, eternal patience, focused outcomes
- **Example**: "Probability Shepherding: Create entanglement. Do NOT measure. Wait 3 cycles. Outcome determines reward."

**Entropy Shepherds** (ğŸŒŒğŸ’€ğŸŒ¸) - Pattern: `111111111111`
- **Emoji preferences**: ğŸ’€ decay, ğŸŒ¸ beauty, heat death (all emojis fade to equilibrium)
- **Quest type**: ALL 1s - perfect deterministic mystical cosmic eternal mental fluid subtle providing prismatic imposed focused
- **Example**: "Beautiful End: Guide all plots to Î¸=Ï€/2 (perfect superposition). Reward: Universal grace +1000ğŸ’°."

---

## Quest Generation Algorithm

```gdscript
class_name ProceduralQuestGenerator

func generate_quest(faction_id: String, player_level: int, biome_context: Node) -> Dictionary:
    var faction = FACTION_DATABASE[faction_id]
    var bit_pattern = faction["pattern"]  # "110111001101"
    var emoji_theme = faction["emoji_theme"]  # ["ğŸŒ¾", "ğŸ’°", "âš–ï¸"]

    # 1. DETERMINE QUEST STRUCTURE from bits
    var is_random = bit_pattern[0] == '0'
    var is_material = bit_pattern[1] == '0'
    var is_common = bit_pattern[2] == '0'
    var is_local = bit_pattern[3] == '0'
    var is_instant = bit_pattern[4] == '0'
    var is_physical = bit_pattern[5] == '0'
    var is_crystalline = bit_pattern[6] == '0'
    var is_direct = bit_pattern[7] == '0'
    var is_consumptive = bit_pattern[8] == '0'
    var is_monochrome = bit_pattern[9] == '0'
    var is_emergent = bit_pattern[10] == '0'
    var is_scattered = bit_pattern[11] == '0'

    # 2. SELECT QUEST OBJECTIVES from biome availability
    var available_emojis = biome_context.get_producible_emojis()
    var quest_emojis = []

    if is_monochrome:
        # Pick single emoji type from faction theme
        quest_emojis = [_pick_available_emoji(emoji_theme, available_emojis)]
    else:
        # Pick 2-4 diverse emojis
        quest_emojis = _pick_diverse_emojis(emoji_theme, available_emojis, randi_range(2, 4))

    # 3. GENERATE OBJECTIVES
    var objectives = []
    if is_physical:
        objectives.append(_generate_physical_objective(quest_emojis, is_instant))
    else:
        objectives.append(_generate_mental_objective(quest_emojis, is_instant))

    # 4. DETERMINE REWARDS
    var rewards = {}
    if is_material:
        rewards = _generate_material_rewards(quest_emojis, is_common)
    else:
        rewards = _generate_mystical_rewards(biome_context, quest_emojis)

    # 5. QUEST PRESENTATION
    var visibility = "visible" if is_direct else "hidden"
    var scope = "local" if is_local else "cosmic"
    var timing = "instant" if is_instant else "eternal"

    return {
        "faction": faction_id,
        "title": _generate_title(faction, quest_emojis),
        "objectives": objectives,
        "rewards": rewards,
        "visibility": visibility,
        "scope": scope,
        "timing": timing,
        "structure": "fixed" if is_crystalline else "adaptive"
    }
```

---

## Example Generated Quests

### Millwright's Union (ğŸŒ¾âš™ï¸ğŸ­) - BioticFlux Biome
**Pattern**: `110100000001` (Deterministic, Material, Common, Local, Instant, Physical, Crystalline, Direct, Providing, Monochrome, Emergent, Focused)

```
QUEST: Mill Contract #7734
From: Millwright's Union

We provide: 30ğŸŒ¾ wheat
Objective:
  1. Place 1 mill in BioticFlux biome
  2. Process all 30ğŸŒ¾ â†’ 24ğŸ’¨ flour
  3. Return 24ğŸ’¨ to guild hall

Reward: 40ğŸ’° + 1ğŸ‘¥ labor
Time limit: None (instant completion on delivery)
Structure: Fixed steps (must complete in order)
```

### Yeast Prophets (ğŸğŸ§ªâ›ª) - Kitchen Biome
**Pattern**: `011011111101` (Random, Mystical, Elite, Local, Eternal, Mental, Fluid, Subtle, Providing, Prismatic, Emergent, Focused)

```
HIDDEN QUEST: Prophetic Rise
From: Yeast Prophets

(Discovered when player creates ğŸ in superposition)

You receive: 10ğŸŒ¾ + 5ğŸ’§ + 3ğŸ”¥ (quantum superposition)
Objective (choose 2 of 3):
  â˜ Let dough rise for 3 sun-moon cycles without measurement
  â˜ Entangle ğŸ”¥+ğŸ’§ in Bell state (alchemy)
  â˜ Achieve bread qubit theta = 45Â° Â± 5Â° naturally

Reward: ğŸ qubit permanently biased toward fermentation
  + "Prophet's Blessing" - 20% faster bread production
Time: Must span at least 3 full day-night cycles
Structure: Adaptive (any 2 objectives)
```

### Iron Shepherds (ğŸ›¡ï¸ğŸ‘ğŸš€) - Forest Biome
**Pattern**: `110111000101` (Deterministic, Material, Elite, Cosmic, Eternal, Physical, Crystalline, Direct, Providing, Monochrome, Imposed, Focused)

```
QUEST: Cathedral Patrol Route Gamma
From: Iron Shepherds (Living Cathedral Ship)

Objective:
  Protect ALL forest creatures in Forest biome for 5 sun-moon cycles

Success conditions:
  - No ğŸ° rabbits killed by ğŸº wolves
  - No ğŸ¦ birds killed by ğŸ¦… eagles
  - Forest must reach "Mature" state (ğŸŒ²) by end

Failure condition:
  - ANY predation event = immediate quest failure

Reward: 200ğŸ’° + 50ğŸ’§ water + "Shepherd's Mark" (immunity to predators)
Time: 5 full sun-moon cycles (100 seconds)
Structure: Fixed (must maintain perfect protection)
Scope: Cosmic (entire Forest biome)
```

### Entropy Shepherds (ğŸŒŒğŸ’€ğŸŒ¸) - ALL Biomes
**Pattern**: `111111111111` (All 1s - perfect alignment)

```
COSMIC QUEST: Beautiful Ending
From: Entropy Shepherds (Universal Gardeners)

Objective:
  Guide ALL qubits in ALL biomes to perfect superposition

Requirements:
  - Every plot must have theta = Ï€/2 Â± 0.01 (perfect balance)
  - No measurements allowed during approach
  - Must use only entanglement and natural drift
  - Maintain equilibrium for 1 full sun-moon cycle

Reward:
  - MATERIAL: 1000ğŸ’°
  - MYSTICAL: "Grace of Entropy" - All future decohence reduced by 50%
  - COSMIC: Universal heat death delayed by 1 epoch

Time: Eternal (no time limit, but hard to maintain)
Scope: Cosmic (all biomes simultaneously)
Structure: Focused (single perfect state)
Visibility: Direct (appears when player reaches level 50)
```

---

## Implementation Notes

1. **Faction Reputation**: Track player standing with each faction (0-100)
   - Completing quests â†’ +reputation
   - Failing/refusing â†’ -reputation
   - High reputation unlocks elite quests

2. **Biome Scoping**: Only generate quests for factions whose emoji themes match available biome resources
   - Millwright's Union only appears when ğŸŒ¾ is available
   - Yeast Prophets need Kitchen biome (ğŸ)

3. **Quest Chains**: Factions with `is_crystalline=true` can chain quests
   - Complete Quest 1 â†’ Unlocks Quest 2 â†’ ... â†’ Final reward

4. **Dynamic Difficulty**: Scale rewards/costs based on player level
   - Common quests: costs = player_level * 10
   - Elite quests: costs = player_level * 50

5. **Hidden Quest Discovery**: Quests with `is_direct=false` unlock via:
   - Biome exploration (Cartographers)
   - Specific emoji patterns (Yeast Prophets)
   - Random events (Laughing Court)

6. **Failure States**:
   - Consumptive quests with `is_instant=false`: Can fail if resources depleted
   - Protection quests: Fail on first violation
   - Time-limited quests: Fail on timeout

---

## Summary

This procedural quest system creates **1024 possible quest archetypes** (2^10 meaningful bits) mapped onto **32 factions** and **5+ biomes**, resulting in virtually unlimited quest variety while maintaining thematic coherence with the faction's axioms and the biome's resource availability.

Each quest feels unique to its faction while leveraging the existing emoji-credits economy and quantum mechanics already in the game.
