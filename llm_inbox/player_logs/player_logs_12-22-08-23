tehcr33d@DESKTOP-B7NQRHN:~/ws/SpaceWheat$ godot
Godot Engine v4.5.stable.official.876b29033 - https://godotengine.org
WARNING: Could not set V-Sync mode, as changing V-Sync mode is not supported by the graphics driver.
     at: set_use_vsync (platform/linuxbsd/x11/gl_manager_x11.cpp:364)
OpenGL API 4.1 (Core Profile) Mesa 23.2.1-1ubuntu3.1~22.04.3 - Compatibility - Using Device: Microsoft - D3D12 (Intel(R) HD Graphics 620)
libpulse.so.0: cannot open shared object file: No such file or directory
libpulse.so.0: cannot open shared object file: No such file or directory
ALSA lib confmisc.c:855:(parse_card) cannot find card '0'
ALSA lib conf.c:5178:(_snd_config_evaluate) function snd_func_card_inum returned error: No such file or directory
ALSA lib confmisc.c:422:(snd_func_concat) error evaluating strings
ALSA lib conf.c:5178:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory
ALSA lib confmisc.c:1334:(snd_func_refer) error evaluating name
ALSA lib conf.c:5178:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory
ALSA lib conf.c:5701:(snd_config_expand) Evaluate error: No such file or directory
ALSA lib pcm.c:2664:(snd_pcm_open_noupdate) Unknown PCM default
ERROR: Condition "status < 0" is true. Returning: ERR_CANT_OPEN
   at: init_output_device (drivers/alsa/audio_driver_alsa.cpp:90)
WARNING: All audio drivers failed, falling back to the dummy driver.
     at: initialize (servers/audio_server.cpp:244)

ğŸ’¾ GameStateManager ready - Save dir: user://saves/
ğŸ® FarmView initializing...
WARNING: Nodes with non-equal opposite anchors will have their size overridden after _ready().
If you want to set size, change the anchors or consider using set_deferred().
     at: _set_size (scene/gui/control.cpp:1476)
     GDScript backtrace (most recent call first):
         [0] _ready (res://UI/FarmView.gd:35)
ğŸ“ FarmView sized to viewport: (1280.0, 720.0)
ğŸ® FarmUIController initializing...
ğŸ¨ FarmUILayoutManager initializing... size=(1280.0, 720.0)
UILayoutManager: Input mode detected - MOUSE
UILayoutManager: Viewport=(1280.0, 720.0), Scale=0.75Ã—, Breakpoint=HD
ğŸ“ Layout breakdown (parametric):
  Top bar: 43.2px (0% to 6%)
  Play area: 478.8px (6% to 72%)
  Plots row: 108.0px (72% to 87%)
  Actions row: 90.0px (87% to 100%)
  Total: 720.0px (should equal viewport height: 720.0px)
ğŸ“ Layout Manager created
âœ… UI Structure created
ğŸ“‹ OverlayManager initialized
ğŸ“œ Contract panel created (press C to toggle)
ğŸ“– Vocabulary overlay created (press V to toggle)
ğŸ“‹ OverlayManager created
âŒ¨ï¸  KeyboardHintButton initialized
ğŸŒ¾ PlotGridDisplay._ready() called (Instance: 48318383779, child_count before: 0)
  ğŸ“ Plot tile created at position (0, 0) (T)
  ğŸ“ Plot tile created at position (1, 0) (Y)
  ğŸ“ Plot tile created at position (2, 0) (U)
  ğŸ“ Plot tile created at position (3, 0) (I)
  ğŸ“ Plot tile created at position (4, 0) (O)
  ğŸ“ Plot tile created at position (5, 0) (P)
âœ… PlotGridDisplay created with 6 tiles (child_count after: 6)
âš¡ ActionPreviewRow updated for Tool 1: Plant
âš¡ ActionPreviewRow initialized
ğŸ› ï¸  ToolSelectionRow initialized with 6 tools - beveled touch-friendly buttons
ğŸ¨ UI components created and positioned
âš›ï¸ QuantumForceGraph initialized (input enabled)
âœ¨ Visualization systems created and anchored
ğŸ’‰ Dependencies injected into FarmUILayoutManager
âŒ¨ï¸  FarmUIControlsManager initializing...
âŒ¨ï¸  FarmInputHandler initialized (Tool Mode System)
ğŸ“ Starting position: (0, 0)
ğŸ› ï¸  Current tool: Plant
   âœ“ Input processing enabled

============================================================
âŒ¨ï¸  FARM KEYBOARD CONTROLS (Tool Mode System)
============================================================

ğŸ› ï¸  TOOL SELECTION (Numbers 1-3):
  1 = Plant
  2 = Quantum Ops
  3 = Economy

âš¡ ACTIONS (Q/E/R - Context-sensitive):
  Current Tool: Plant
  Q = Wheat
  E = Mushroom
  R = Tomato (Ultimate!)

ğŸ“ LOCATION SELECTION:
  WASD = Move cursor (up/left/down/right)
  T/Y/U/I/O/P = Quick-select locations 1-6
  Current: (0, 0)

ğŸ“‹ DEBUG:
  ? = Show this help
  I = Toggle info panel
============================================================

âŒ¨ï¸  FarmInputHandler created
ğŸ® InputController created
ğŸ“¡ Controls manager connected to UI controller
âœ… FarmUIController ready (boundary established)
ğŸ“ No farm provided - creating default UIOP farm (6x1)...
ğŸŒ¾ Farm simulation manager initializing...
ğŸŒ¾ Farm Economy initialized
  Quantum resources - Wheat: 100 (harvest currency)
  Classical resources - Credits: 50 (processed currency)
   ğŸ’° FarmEconomy created
   ğŸŒ Biome created in static mode (no quantum evolution)
ğŸŒ Biome initialized - Temperature: 300K, Period: 20.0s
  â˜€ï¸ Sun/Moon qubit initialized (immutable celestial)
  ğŸŒ¾ Wheat energy influence: 0.017 (cosÂ²(165Â°/2))
  ğŸ„ Mushroom energy influence: 0.040 (cosÂ²(163Â°/2))
  DEBUG: wheat_icon=true, mushroom_icon=true
ğŸŒ¾ FarmGrid initialized: 6x1 = 6 plots
   ğŸ“Š FarmGrid created (6x1)
ğŸ§¬ Vocabulary Evolution initialized with 5 seed concepts
   ğŸ“š VocabularyEvolution system created
ğŸ¯ Goals System initialized with 6 goals
   ğŸ¯ GoalsSystem created
   ğŸ¨ FarmUIState created
âœ… Farm simulation ready!
âœ… Farm added to scene tree
ğŸ“¡ ControlsInterface signal bridge connected
âœ… Simulation controls injected into controls manager
ğŸ’‰ Farm injected into FarmUIController
ğŸ’‰ UIState injected into FarmUIController
   ğŸ“¡ Connected to economy_updated signal
   ğŸ“¡ Connected to plot_updated signal
   ğŸ“¡ UIState auto-injected from farm
ğŸ’‰ Farm injected into FarmInputHandler
âš ï¸  Farm does not implement ControlsInterface - backward compatibility mode
ğŸ“¡ Controls manager signals connected
ğŸ’‰ UIState injected into PlotGridDisplay
   ğŸ“¡ Connected to plot_updated signal
   ğŸ“¡ Connected to grid_refreshed signal
ğŸ”„ Grid refreshed via UIState - updating all tiles
  ğŸ”„ Updated tile at (0, 0): empty
  ğŸ”„ Updated tile at (1, 0): empty
  ğŸ”„ Updated tile at (2, 0): empty
  ğŸ”„ Updated tile at (3, 0): empty
  ğŸ”„ Updated tile at (4, 0): empty
  ğŸ”„ Updated tile at (5, 0): empty
   ğŸ“¡ UIState injected into PlotGridDisplay
âœ… Default farm created with FarmControlsAdapter
âœ… FarmView ready - delegating to FarmUIController
ğŸ› DEBUG LAYOUT DISABLED - checking for button duplication
âœ… FarmUILayoutManager ready!
ğŸŒ Biome | Temp: 300K | â˜€ï¸0.0Â° | ğŸŒ¾0.0Â° | Energy: 1.0 | Qubits: 1
ğŸŒ Biome | Temp: 300K | â˜€ï¸0.0Â° | ğŸŒ¾0.0Â° | Energy: 1.0 | Qubits: 1
âŒ¨ï¸ KEY PRESSED: 81
ğŸ› DEBUG: Pressed key: 81
   is_action_pressed('action_q'): true
   is_action_pressed('action_e'): false
   is_action_pressed('action_r'): false
âš¡ action_q detected
âš¡ Tool 1 (Plant) | Key Q | Action: Wheat at (0, 0)
ğŸŒ± _action_plant('wheat') called at (0, 0)
   Farm reference: @Node@147:<Node#51187287886>
   Farm.build exists: true
ğŸ’° ResourcePanel updated via UIState signal
ğŸ’¸ Spent 1 wheat on wheat (remaining: 99)
ğŸŒ± Planting into Resource: 0.08ğŸ‘¥ (labor) + 0.22ğŸŒ¾ (wheat)
âš ï¸ Target biome doesn't support inject_planting()
ğŸŒ± Plot updated at (0, 0) via UIState signal
ğŸŒ± Plot updated via UIState: (0, 0)
  ğŸ”„ Updated tile at (0, 0): empty
ğŸŒ± Plot planted at (0, 0)
SCRIPT ERROR: Invalid call. Nonexistent function 'has_property' in base 'RefCounted (FarmUIState)'.
          at: PlotGridDisplay.update_tile_from_farm (res://UI/PlotGridDisplay.gd:146)
          GDScript backtrace (most recent call first):
              [0] update_tile_from_farm (res://UI/PlotGridDisplay.gd:146)
              [1] on_plot_planted (res://UI/FarmUIController.gd:223)
              [2] _on_plot_planted (res://UI/FarmUIControlsManager.gd:238)
              [3] <anonymous lambda> (res://UI/FarmControlsAdapter.gd:237)
              [4] build (res://Core/Farm.gd:222)
              [5] _action_plant (res://UI/FarmInputHandler.gd:261)
              [6] _execute_tool_action (res://UI/FarmInputHandler.gd:197)
              [7] _input (res://UI/FarmInputHandler.gd:127)
ğŸŒ± Plot planted visual updated: (0, 0)
ğŸŒ± Plot planted at (0, 0)
SCRIPT ERROR: Invalid call. Nonexistent function 'has_property' in base 'RefCounted (FarmUIState)'.
          at: PlotGridDisplay.update_tile_from_farm (res://UI/PlotGridDisplay.gd:146)
          GDScript backtrace (most recent call first):
              [0] update_tile_from_farm (res://UI/PlotGridDisplay.gd:146)
              [1] on_plot_planted (res://UI/FarmUIController.gd:223)
              [2] _on_plot_planted (res://UI/FarmUIControlsManager.gd:238)
              [3] <anonymous lambda> (res://UI/FarmControlsAdapter.gd:237)
              [4] build (res://Core/Farm.gd:222)
              [5] _action_plant (res://UI/FarmInputHandler.gd:261)
              [6] _execute_tool_action (res://UI/FarmInputHandler.gd:197)
              [7] _input (res://UI/FarmInputHandler.gd:127)
ğŸŒ± Plot planted visual updated: (0, 0)
   Result: âœ… SUCCESS
âš¡ Action performed: plant_wheat (success: true)
   Message: âœ… Planting wheat at (0, 0)
ğŸ’¬ Action feedback: âœ… Planting wheat at (0, 0)
âŒ¨ï¸ KEY PRESSED: 85
ğŸ“ Plot selected via keyboard: (2, 0)
  ğŸ¯ Selected plot: (2, 0)
ğŸ¯ Plot selected in UI: (2, 0)
ğŸ“ Selected: (2, 0) (Location 3)
âŒ¨ï¸ KEY PRESSED: 81
ğŸ› DEBUG: Pressed key: 81
   is_action_pressed('action_q'): true
   is_action_pressed('action_e'): false
   is_action_pressed('action_r'): false
âš¡ action_q detected
âš¡ Tool 1 (Plant) | Key Q | Action: Wheat at (2, 0)
ğŸŒ± _action_plant('wheat') called at (2, 0)
   Farm reference: @Node@147:<Node#51187287886>
   Farm.build exists: true
ğŸ’° ResourcePanel updated via UIState signal
ğŸ’¸ Spent 1 wheat on wheat (remaining: 98)
ğŸŒ± Planting into Resource: 0.08ğŸ‘¥ (labor) + 0.22ğŸŒ¾ (wheat)
âš ï¸ Target biome doesn't support inject_planting()
ğŸŒ± Plot updated at (2, 0) via UIState signal
ğŸŒ± Plot updated via UIState: (2, 0)
  ğŸ”„ Updated tile at (2, 0): empty
ğŸŒ± Plot planted at (2, 0)
SCRIPT ERROR: Invalid call. Nonexistent function 'has_property' in base 'RefCounted (FarmUIState)'.
          at: PlotGridDisplay.update_tile_from_farm (res://UI/PlotGridDisplay.gd:146)
          GDScript backtrace (most recent call first):
              [0] update_tile_from_farm (res://UI/PlotGridDisplay.gd:146)
              [1] on_plot_planted (res://UI/FarmUIController.gd:223)
              [2] _on_plot_planted (res://UI/FarmUIControlsManager.gd:238)
              [3] <anonymous lambda> (res://UI/FarmControlsAdapter.gd:237)
              [4] build (res://Core/Farm.gd:222)
              [5] _action_plant (res://UI/FarmInputHandler.gd:261)
              [6] _execute_tool_action (res://UI/FarmInputHandler.gd:197)
              [7] _input (res://UI/FarmInputHandler.gd:127)
ğŸŒ± Plot planted visual updated: (2, 0)
ğŸŒ± Plot planted at (2, 0)
SCRIPT ERROR: Invalid call. Nonexistent function 'has_property' in base 'RefCounted (FarmUIState)'.
          at: PlotGridDisplay.update_tile_from_farm (res://UI/PlotGridDisplay.gd:146)
          GDScript backtrace (most recent call first):
              [0] update_tile_from_farm (res://UI/PlotGridDisplay.gd:146)
              [1] on_plot_planted (res://UI/FarmUIController.gd:223)
              [2] _on_plot_planted (res://UI/FarmUIControlsManager.gd:238)
              [3] <anonymous lambda> (res://UI/FarmControlsAdapter.gd:237)
              [4] build (res://Core/Farm.gd:222)
              [5] _action_plant (res://UI/FarmInputHandler.gd:261)
              [6] _execute_tool_action (res://UI/FarmInputHandler.gd:197)
              [7] _input (res://UI/FarmInputHandler.gd:127)
ğŸŒ± Plot planted visual updated: (2, 0)
   Result: âœ… SUCCESS
âš¡ Action performed: plant_wheat (success: true)
   Message: âœ… Planting wheat at (2, 0)
ğŸ’¬ Action feedback: âœ… Planting wheat at (2, 0)
ğŸŒ Biome | Temp: 300K | â˜€ï¸0.0Â° | ğŸŒ¾0.0Â° | Energy: 1.0 | Qubits: 3
âŒ¨ï¸ KEY PRESSED: 4194305
  â†’ ESC: Opening menu
  â†’ Menu is visible - blocking game input
ğŸŒ Biome | Temp: 300K | â˜€ï¸0.0Â° | ğŸŒ¾0.0Â° | Energy: 1.0 | Qubits: 3